<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nueva Ruta Turística - Portal Turístico Ecuador</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
  
  <header role="banner">
    <div class="header-container">
      <a href="/" class="logo">
        <img src="{{ url_for('static', filename='img/logo-ecuador.png') }}" alt="Logo oficial de Ecuador Turismo" class="logo-img" />
        <span class="logo-text">PORTAL TURÍSTICO EC</span>
      </a>
      
      <nav class="nav" role="navigation" aria-label="Navegación principal">
        <ul>
          <li><a href="/">Inicio</a></li>
          <li><a href="/rutas" aria-current="page">Rutas</a></li>
          <li><a href="/contacto">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content" role="main">
    <!-- Background decorativo -->
    <div class="registro-bg">
      <div class="bg-pattern"></div>
      <div class="floating-elements">
        <div class="float-elem elem-1"></div>
        <div class="float-elem elem-2"></div>
        <div class="float-elem elem-3"></div>
      </div>
    </div>
    
    <div class="registro-layout">
      <!-- Panel informativo lateral -->
      <div class="info-panel slide-in-left">
        <div class="panel-content">
          <div class="panel-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
          </div>
          <h2 class="panel-title">¡Crea tu ruta ideal!</h2>
          <p class="panel-subtitle">Diseña experiencias únicas para otros viajeros</p>
          <ul class="benefits-list">
            <li class="benefit-item">
              <div class="benefit-icon">🗺️</div>
              <span>Comparte lugares especiales</span>
            </li>
            <li class="benefit-item">
              <div class="benefit-icon">👥</div>
              <span>Conecta con la comunidad</span>
            </li>
            <li class="benefit-item">
              <div class="benefit-icon">⭐</div>
              <span>Obtén valoraciones</span>
            </li>
            <li class="benefit-item">
              <div class="benefit-icon">🏆</div>
              <span>Conviértete en guía local</span>
            </li>
          </ul>
          <div class="tips-preview">
            <h4>💡 Consejos para tu ruta:</h4>
            <ul>
              <li>Incluye detalles específicos</li>
              <li>Agrega puntos de interés</li>
              <li>Considera la accesibilidad</li>
              <li>Especifica la dificultad</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Formulario principal -->
      <div class="form-wrapper slide-in-right">
        <div class="form-container-modern">
          <div class="form-header">
            <div class="progress-indicator">
              <div class="progress-step active" data-step="1">1</div>
              <div class="progress-line"></div>
              <div class="progress-step" data-step="2">2</div>
              <div class="progress-line"></div>
              <div class="progress-step" data-step="3">3</div>
            </div>
            <h1 class="form-title-modern">Registrar Nueva Ruta</h1>
            <p class="form-subtitle">Comparte tu ruta turística favorita con otros viajeros</p>
          </div>
          
          {% if mensaje %}
            <div class="notification {{ 'success' if 'exitosamente' in mensaje else 'error' }} mb-3">
              <p>{{ mensaje }}</p>
            </div>
          {% endif %}
          
          <form method="POST" class="form-steps" autocomplete="on" role="form" aria-describedby="ruta-descripcion">
            <p id="ruta-descripcion" class="sr-only">Formulario para registrar una nueva ruta turística</p>
            
            <!-- Paso 1: Información básica -->
            <div class="step-panel active" data-step="1">
              <h3 class="step-title">Información Básica</h3>
              
              <div class="form-group-modern">
                <label for="nombre" class="form-label-modern">
                  <span class="label-icon">🏷️</span>
                  Nombre de la ruta
                  <span class="required-indicator">*</span>
                </label>
                <input type="text" id="nombre" name="nombre" class="form-input-modern" 
                       placeholder="Ej: Ruta del Cacao en Manabí" required autocomplete="off" 
                       aria-describedby="nombre-error" />
                <div id="nombre-error" class="error-message" role="alert" aria-live="polite"></div>
              </div>
              
              <div class="form-group-modern">
                <label for="descripcion" class="form-label-modern">
                  <span class="label-icon">📝</span>
                  Descripción
                </label>
                <textarea id="descripcion" name="descripcion" class="form-input-modern textarea-modern" 
                          placeholder="Describe qué hace especial a esta ruta..." rows="4"
                          aria-describedby="descripcion-error"></textarea>
                <div class="char-counter">
                  <span id="desc-char-count">0</span>/500 caracteres
                </div>
                <div id="descripcion-error" class="error-message" role="alert" aria-live="polite"></div>
              </div>
              
              <div class="form-row">
                <div class="form-group-modern">
                  <label for="provincia" class="form-label-modern">
                    <span class="label-icon">🗺️</span>
                    Provincia
                  </label>
                  <select id="provincia" name="provincia" class="form-input-modern" 
                          aria-describedby="provincia-error">
                    <option value="">Seleccione provincia</option>
                    <option value="azuay">Azuay</option>
                    <option value="bolivar">Bolívar</option>
                    <option value="canar">Cañar</option>
                    <option value="carchi">Carchi</option>
                    <option value="chimborazo">Chimborazo</option>
                    <option value="cotopaxi">Cotopaxi</option>
                    <option value="el-oro">El Oro</option>
                    <option value="esmeraldas">Esmeraldas</option>
                    <option value="galapagos">Galápagos</option>
                    <option value="guayas">Guayas</option>
                    <option value="imbabura">Imbabura</option>
                    <option value="loja">Loja</option>
                    <option value="los-rios">Los Ríos</option>
                    <option value="manabi">Manabí</option>
                    <option value="morona-santiago">Morona Santiago</option>
                    <option value="napo">Napo</option>
                    <option value="orellana">Orellana</option>
                    <option value="pastaza">Pastaza</option>
                    <option value="pichincha">Pichincha</option>
                    <option value="santa-elena">Santa Elena</option>
                    <option value="santo-domingo">Santo Domingo</option>
                    <option value="sucumbios">Sucumbíos</option>
                    <option value="tungurahua">Tungurahua</option>
                    <option value="zamora-chinchipe">Zamora Chinchipe</option>
                  </select>
                  <div id="provincia-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group-modern">
                  <label for="ciudad" class="form-label-modern">
                    <span class="label-icon">🏙️</span>
                    Ciudad
                  </label>
                  <input type="text" id="ciudad" name="ciudad" class="form-input-modern" 
                         placeholder="Ciudad o cantón" aria-describedby="ciudad-error" />
                  <div id="ciudad-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
              </div>
            </div>
            
            <!-- Paso 2: Características de la ruta -->
            <div class="step-panel" data-step="2">
              <h3 class="step-title">Características de la Ruta</h3>
              
              <div class="form-row">
                <div class="form-group-modern">
                  <label for="tipo" class="form-label-modern">
                    <span class="label-icon">🎯</span>
                    Tipo de ruta
                  </label>
                  <select id="tipo" name="tipo" class="form-input-modern" 
                          aria-describedby="tipo-error">
                    <option value="">Selecciona un tipo</option>
                    <option value="senderismo">🥾 Senderismo</option>
                    <option value="cultural">🏛️ Cultural</option>
                    <option value="gastronomica">🍽️ Gastronómica</option>
                    <option value="ciclismo">🚴 Ciclismo</option>
                    <option value="historica">📚 Histórica</option>
                    <option value="ecoturismo">🌿 Ecoturismo</option>
                    <option value="aventura">⚡ Aventura</option>
                    <option value="relajacion">🧘 Relajación</option>
                    <option value="otra">🔄 Otra</option>
                  </select>
                  <div id="tipo-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group-modern">
                  <label for="dificultad" class="form-label-modern">
                    <span class="label-icon">📊</span>
                    Nivel de dificultad
                  </label>
                  <select id="dificultad" name="dificultad" class="form-input-modern" 
                          aria-describedby="dificultad-error">
                    <option value="">Selecciona dificultad</option>
                    <option value="baja">🟢 Baja - Para toda la familia</option>
                    <option value="media">🟡 Media - Requiere condición física</option>
                    <option value="alta">🔴 Alta - Solo expertos</option>
                  </select>
                  <div id="dificultad-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group-modern">
                  <label for="distancia_km" class="form-label-modern">
                    <span class="label-icon">📏</span>
                    Distancia (km)
                  </label>
                  <input type="number" step="0.1" id="distancia_km" name="distancia_km" 
                         class="form-input-modern" min="0" max="1000"
                         placeholder="0.0" aria-describedby="distancia-error" />
                  <div id="distancia-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group-modern">
                  <label for="duracion_horas" class="form-label-modern">
                    <span class="label-icon">⏱️</span>
                    Duración (horas)
                  </label>
                  <input type="number" step="0.5" id="duracion_horas" name="duracion_horas" 
                         class="form-input-modern" min="0.5" max="72"
                         placeholder="0.0" aria-describedby="duracion-error" />
                  <div id="duracion-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
              </div>
            </div>
            
            <!-- Paso 3: Detalles adicionales -->
            <div class="step-panel" data-step="3">
              <h3 class="step-title">Detalles Adicionales</h3>
              
              <div class="form-group-modern">
                <label class="form-label-modern">
                  <span class="label-icon">♿</span>
                  Características especiales
                </label>
                <div class="checkbox-grid">
                  <label class="checkbox-wrapper-modern">
                    <input type="checkbox" name="accesible" value="true" />
                    <span class="checkmark-modern"></span>
                    <span class="checkbox-text">Accesible para personas con discapacidad</span>
                  </label>
                  <label class="checkbox-wrapper-modern">
                    <input type="checkbox" name="familiar" value="true" />
                    <span class="checkmark-modern"></span>
                    <span class="checkbox-text">Apto para familias con niños</span>
                  </label>
                  <label class="checkbox-wrapper-modern">
                    <input type="checkbox" name="mascotas" value="true" />
                    <span class="checkmark-modern"></span>
                    <span class="checkbox-text">Se permiten mascotas</span>
                  </label>
                  <label class="checkbox-wrapper-modern">
                    <input type="checkbox" name="transporte_publico" value="true" />
                    <span class="checkmark-modern"></span>
                    <span class="checkbox-text">Accesible en transporte público</span>
                  </label>
                </div>
              </div>
              
              <div class="form-group-modern">
                <label for="recomendaciones" class="form-label-modern">
                  <span class="label-icon">💡</span>
                  Recomendaciones y consejos
                </label>
                <textarea id="recomendaciones" name="recomendaciones" class="form-input-modern textarea-modern" 
                          placeholder="Comparte consejos útiles: qué llevar, mejor época para visitar, precauciones..." 
                          rows="3" aria-describedby="recomendaciones-error"></textarea>
                <div class="char-counter">
                  <span id="rec-char-count">0</span>/300 caracteres
                </div>
                <div id="recomendaciones-error" class="error-message" role="alert" aria-live="polite"></div>
              </div>
            </div>
            
            <!-- Navegación entre pasos -->
            <div class="step-navigation">
              <button type="button" class="btn-secondary-modern" id="prev-btn" style="display: none;">
                <span class="btn-icon">⬅️</span>
                <span class="btn-text">Anterior</span>
              </button>
              
              <button type="button" class="btn-primary-modern" id="next-btn">
                <span class="btn-text">Siguiente</span>
                <span class="btn-icon">➡️</span>
              </button>
              
              <button type="submit" class="btn-primary-modern" id="submit-btn" style="display: none;">
                <span class="btn-icon">✅</span>
                <span class="btn-text">Crear Ruta</span>
                <div class="btn-loader" style="display: none;"></div>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
          <div class="form-group">
            <label for="duracion_horas">Duración estimada (horas)</label>
            <input type="number" step="0.01" id="duracion_horas" name="duracion_horas" class="form-control" min="0" />
          </div>
          <div class="form-group">
            <label class="checkbox-wrapper">
              <input type="checkbox" id="accesible" name="accesible" />
              <span class="checkbox-text">Accesible para personas con discapacidad</span>
            </label>
          </div>
          <div class="form-group">
            <label for="imagen_url">Imagen o enlace a imagen</label>
            <input type="url" id="imagen_url" name="imagen_url" class="form-control" />
          </div>
        </fieldset>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Guardar ruta</button>
          <a href="/" class="btn btn-outline">Cancelar</a>
        </div>
      </form>
    </div>
  </main>
</body>
</html> 